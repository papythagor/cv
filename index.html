<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="css/style.css" />
		<title>Sylvain Boutet</title>
	</head>

	<body>
		<header>
			<div id="logo">
				
			</div>
			<nav>
				<ul>
					<li><a href="#experiences">Expériences</a></li>
					<li><a href="#formations">Formations</a></li>
					<li><a href="#competences">Compétences</a></li>
				</ul>
			</nav>

		</header>
		
		<section>
			<div id="banniere">
				<p>Eternel apprenti, je suis curieux de tout et suis en constante recherche de nouvelles technologies pouvant m'aider dans mes tâches.</p>
			</div>
			<article>
				<div id="experiences">
					<h1>Expériences</h1>




				
				</div>
				<h1 id="formations">Formation</h1>
				<div class="formation">
					<h2>CFAI ISEIA Mécavenir</h2>
					<h3>BTS Assistant technique ingénieur</h3>
				</div>
				<div class="formation">
					<h2>Compagnons du Devoir du Tour de France</h2>
					<h3>CAP/BEP Structures métalliques</h3>
				</div>
				<div class="formation">
					<h2>Lycée Jean Jaurès</h2>
					<h3>BAC STI structures métalliques</h3>
				</div>
			</article>
			<aside>
				<h1 id="competences">Compétences</h1>
				<div class="competence">
					
					<h2>Bureautique</h2>
					<ul>
						<li>Microsoft Word</li>
						<li>Microsoft Excel</li>
					</ul>

				</div>
			</aside>
		</section>
		<footer>
			<div id="col1">

			</div>
			<div id="col2">

			</div>
			<div id="col3">

			</div>
		</footer>

		<script>

			var lirecv='http://boutet-tech.fr/json/bdd.json';
			var request = new XMLHttpRequest();
			request.open('GET',lirecv,true);
			request.responseType = 'json';
			request.send();
			request.onload = function() {
			  	var cv = request.response;
			  	remplirExperiences(cv);
			}

			function remplirExperiences(jsonObj) {

				const experiences = jsonObj['Expériences'];
				
				var expElement=document.getElementById('experiences');

				
				for(let i=0;i<experiences.length;i++){
					const myExp=document.createElement('div')
					myExp.className="experience";
					const myH21=document.createElement('h2');
					const myH22=document.createElement('h2');

					myH21.textContent='Société : ' + experiences[i].entreprise;
					myH22.textContent='Emploi : ' + experiences[i].emploi;


					const taches = experiences[i].tâches;

					myExp.appendChild(myH21);
					myExp.appendChild(myH22);

					

					for(let j=0;j<taches.length;j++){

						const proprieteTache=taches[j];
						const myH3=document.createElement('h3');
						myH3.textContent=proprieteTache.categorie;

						myExp.appendChild(myH3);

						const myUl=document.createElement('ul');
						
						liste_taches=proprieteTache.détail;
						
						for(let k=0;k<liste_taches.length;k++){
							const myli=document.createElement('li');

							myli.textContent=liste_taches[k];

							myUl.appendChild(myli);
						}

						myExp.appendChild(myUl);

						

					}

					expElement.appendChild(myExp);

				}



			}


		</script>

	</body>

</html>